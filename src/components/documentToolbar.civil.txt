'
 .toolbarDirectory {
  background-color: #404040;
  border: 1px solid #a0a0a0;
  bottom: 1px;
  box-sizing: border-box;
  min-width: 240px;
  overflow: auto;
  position: absolute;
  top: 38px;
  width: auto;
 }
' @ addStyle !

# length of time (ms) to wait before closing toolbar directory
350 >> closeToolbarDirectoryDelay

.. $-- closeToolbarDirectoryTimeout @ -- clearTimeout !
<< >> cancelCloseToolbarDirectory

.. $-- directoryContainer @ -- document body removeChild !
<< >> closeToolbarDirectoryImmediately

.. $-- closeToolbarDirectoryImmediately , $-- closeToolbarDirectoryDelay \
   @ -- setTimeout !
.. >> -- closeToolbarDirectoryTimeout
<< >> closeToolbarDirectory

# close toolbar directory on route
hashchange , $closeToolbarDirectoryImmediately @ addEventListener !

div @ document createElement ! >> directoryContainer
toolbarDirectory @ directoryContainer classList add !
mouseenter , $cancelCloseToolbarDirectory @ directoryContainer addEventListener !
mouseleave , $closeToolbarDirectory @ directoryContainer addEventListener !

.. $-- cancelCloseToolbarDirectory !
.. '' >> -- directoryContainer textContent
.. $-- directoryContainer @ -- document body appendChild !
.. $segmentButton getBoundingClientRect ! >> buttonRect
.. '$buttonRect\ left\ -1 px' >> -- directoryContainer style left
.. $dir @ Documents getByDir ! >> docs
.. '' >> -- directoryContainer textContent
.. $-- directoryContainer , $docs , $components @ components documentsList !
<< dir segmentButton Documents components >> openToolbarDirectory

.. '' >> toolbar container textContent
.. / @ dir split ! >> dirSegments
.. $-- Array ! >> linkSegments
.. .. $segment @ -- -- components button ! >> segmentButton
.. .. $segment @ -- linkSegments push !
.. .. / @ -- linkSegments join ! >> segmentFullPath
.. .. $segmentButton @ -- toolbar container appendChild !
.. .. .. $-- segmentFullPath >> -- -- -- location hash
.. .. << >> segmentLinkButtonClick
.. .. .. $-- segmentFullPath , $-- segmentButton , $-- -- Documents , \
         $-- -- components @ -- -- -- openToolbarDirectory !
.. .. << >> segmentLinkButtonHover
.. .. click , $segmentLinkButtonClick @ segmentButton addEventListener !
.. .. mouseenter , $segmentLinkButtonHover @ segmentButton addEventListener !
.. .. mouseleave , $-- -- closeToolbarDirectory @ segmentButton addEventListener !
.. << segment :: dirSegments !
<< dir toolbar Documents components

